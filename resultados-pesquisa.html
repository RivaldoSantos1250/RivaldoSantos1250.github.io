<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="apple-touch-icon" sizes="57x57" href="assets/img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="assets/img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="assets/img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="assets/img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/img/favicon/manifest.json">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="assets/styles/header.css">
    <title>Resultados da Pesquisa</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
            color: #333;
        }

        h1 {
            text-align: center;
            margin-top: 20px;
        }

        #search-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            opacity: 0; /* Inicia com opacidade 0 */
            transition: opacity 0.5s ease; /* Adiciona uma transição suave */
        }

        .recipe {
            background-color: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease; /* Adiciona uma transição suave */
            cursor: pointer;
            position: relative;
        }

        .recipe:hover {
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            transform: translateY(-5px); /* Levanta um pouco ao passar o mouse */
        }

        .recipe img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .recipe-info {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.527);
            padding: 10px 20px;
        }

        .recipe-title {
            margin: 0;
            font-size: 20px;
            font-weight: bold; /* Adiciona negrito ao título da receita */
            text-decoration: none;
            color: #333;
            text-decoration: none; /* remova o sublinhado padrão */
            transition: color 0.3s ease; /* adicione uma transição suave */
        }

        

        .recipe-description {
            margin: 0;
            font-size: 16px;
            color: #4d4c4c; /* Altera a cor do texto da descrição da receita */
        }

        /* Animação de fade-in para os resultados */
        #search-results.fade-in {
            opacity: 1;
        }
       
        .container1 {
            height: calc(100vh - 80px);
            
        }  

        .social-icons a {
    display: inline-flex; 
    justify-content: center; 
    align-items: center; 
    
    }

    </style>

    <script src="assets/javascript/loader.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7017375467592415"
     crossorigin="anonymous"></script>
     <script src="assets/javascript/pages/cookie.js"></script>
</head>
<body>

    <header>
        <div class="logo">
            <a href="/index.html"><h1>Cozinha da Tia</h1></a>
        </div>
        
        <nav>
            <ul id="main-nav">
                <li><a href="index.html">Home</a></li>
                <li><a href="receitas.html">Receitas</a></li>
                <li><a href="#">Contato</a></li>
            </ul>
        </nav>
        <div class="mobile-search-icon" onclick="toggleSearch()">
            <i class="fas fa-search"> BUSCAR</i>
        </div>
        <div class="menu-icon" onclick="toggleMenu()">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
    </header>
    
    <div class="search-container">
        <form class="search-form" action="resultados-pesquisa.html" method="GET">
            <input class="search-input" type="text" name="q" placeholder="Pesquisar...">
            <button class="search-button" type="submit">Pesquisar</button>
        </form>
    </div>
    
    <div class="mobile-menu" id="mobile-menu">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="recipes.html">Receitas</a></li>
            <li><a href="contato.html">Contato</a></li>
        </ul>
    </div>
    <div class="container1">
    <h1>Resultados da Pesquisa</h1>
    
    <div id="search-results"></div>

    <div id="cookieConsent">
        Este site utiliza cookies para melhorar sua experiência. Ao continuar navegando, você aceita o uso de cookies. Veja nossa <a href="privacy-policy.html" target="_blank">política de privacidade</a>.
        <button onclick="acceptCookies()">Aceitar</button>
    </div>
</div>
    <footer>
        <p>Siga-nos nas redes sociais:</p>
        <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
        <p>&copy; 2024 CozinhadaTia. Todos os direitos reservados.</p>
        <p><a href="privacy-policy.html">Política de Privacidade</a></p>
    </footer>

    <script src="assets/javascript/script.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
    var params = new URLSearchParams(window.location.search);
    var query = params.get('q');

    if (query !== null && query !== '') {
        searchRecipes(query);
    } else {
        displayNoResults();
    }
});

// Função para remover caracteres especiais de uma string
function cleanString(str) {
    return str.replace(/[^\w\s]/gi, '').toLowerCase();
}

function levenshteinDistance(a, b) {
    if (a.length === 0) return b.length;
    if (b.length === 0) return a.length;

    var matrix = [];

    for (var i = 0; i <= b.length; i++) {
        matrix[i] = [i];
    }

    for (var j = 0; j <= a.length; j++) {
        matrix[0][j] = j;
    }

    for (var i = 1; i <= b.length; i++) {
        for (var j = 1; j <= a.length; j++) {
            if (b.charAt(i - 1) == a.charAt(j - 1)) {
                matrix[i][j] = matrix[i - 1][j - 1];
            } else {
                matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, Math.min(matrix[i][j - 1] + 1, matrix[i - 1][j] + 1));
            }
        }
    }

    return matrix[b.length][a.length];
}

function isAssociatedWithSweet(queryLower) {
    var sweetKeywords = ["sobremesa", "guloseima", "doce", "sobremesas", "guloseimas", "doces"];
    return sweetKeywords.some(function(keyword) {
        return queryLower.includes(keyword);
    });
}

function isAssociatedWithDrink(queryLower) {
    var drinkKeywords = ["drink", "bebida", "coquetel", "cocktail"];
    return drinkKeywords.some(function(keyword) {
        return queryLower.includes(keyword);
    });
}

function isAssociatedWithBreakfast(queryLower) {
    var breakfastKeywords = ["breakfast", "café da manhã", "manhã", "morning"];
    return breakfastKeywords.some(function(keyword) {
        return queryLower.includes(keyword);
    });
}

function searchRecipes(query) {
    var recipes = [
        { nome: "Pudim de Tapioca Granulada", descricao: "Uma receita deliciosa de pudim de tapioca.", imagem: "/assets/img/pudim-tapioca.jpg", link: "assets/pages/pudimtapioca.html" },
        { nome: "Pudim de Leite Condensado", descricao: "Perfeito para qualquer ocasião, nosso pudim é uma escolha deliciosa que vai deixar você querendo mais.", imagem: "/assets/img/pudim-leite-condensado.jpg", link: "assets/pages/pudim.html" },
        { nome: "Panqueca de Aveia e Banana", descricao: "As panquecas de aveia e banana são uma opção saudável e deliciosa para o café da manhã ou lanche.", imagem: "/assets/img/panqueca-aveia-banana.jpg", link: "assets/pages/panquecas-veia-banana.html" },
        { nome: "Mojito Clássico", descricao: "Conhecido por sua refrescância e sabor equilibrado entre o doce.", imagem: "/assets/img/mojito.jpg", link: "assets/pages/mojito.html" },
        
        { nome: "Brownie de Caneca", descricao: "Um brownie na caneca oferece a promessa da gratificação instantânea, entregando essa amada delícia de chocolate em apenas questão de minutos.", imagem: "/assets/img/brownie.jpg", link: "assets/pages/brownie-caneca.html" },

        { nome: "Brigadeiro de Micro-ondas", descricao: "O Brigadeiro de Micro-ondas é uma versão prática e rápida de um dos doces mais queridos do Brasil.", imagem: "/assets/img/brigadeiro-microondas.jpg", link: "assets/pages/brigadeiro-microondas.html" },
        
    ];

    var queryLower = cleanString(query);

    var results = recipes.filter(function(recipe) {
        var recipeNameLower = cleanString(recipe.nome);
        var recipeDescriptionLower = cleanString(recipe.descricao);

        if (isAssociatedWithDrink(queryLower)) {
            return recipeNameLower.includes('mojito') || recipeNameLower.includes('mimosa');
        }

        if (isAssociatedWithBreakfast(queryLower)) {
            return recipeNameLower.includes('panqueca') || recipeNameLower.includes('café');
        }

        if (isAssociatedWithSweet(queryLower)) {
            return recipeNameLower.includes('pudim') || recipeDescriptionLower.includes('brownie') || recipeNameLower.includes('brigadeiro');
        }

        return recipeNameLower.includes(queryLower) || recipeDescriptionLower.includes(queryLower);
    });

    displayResults(results);
}

function displayResults(results) {
    var resultsContainer = document.getElementById('search-results');
    resultsContainer.innerHTML = '';

    if (results.length > 0) {
        results.forEach(function(recipe) {
            var recipeHTML = '<div class="recipe">';
            recipeHTML += '<a href="' + recipe.link + '">';
            recipeHTML += '<img src="' + recipe.imagem + '" alt="' + recipe.nome + '">';
            recipeHTML += '<div class="recipe-info">';
            recipeHTML += '<h3 class="recipe-title">' + recipe.nome + '</h3>';
            recipeHTML += '<p class="recipe-description">' + recipe.descricao + '</p>';
            recipeHTML += '</div></a></div>';
            resultsContainer.innerHTML += recipeHTML;
        });

        resultsContainer.classList.add('fade-in');
    } else {
        displayNoResults();
    }
}

function displayNoResults() {
    var resultsContainer = document.getElementById('search-results');
    resultsContainer.innerHTML = '<p>Nenhum resultado encontrado.</p>';
    resultsContainer.classList.add('fade-in');
}


    </script>

</body>
</html>
